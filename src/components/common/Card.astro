---
import { cn } from '@/utils/utils';
import { Image } from 'astro:assets';

type Props = {
  title?: string;
  description?: string;
  image?: string;
  imageAlt?: string;
  class?: string;
};

const { title, description, image, imageAlt, class: className = '' } = Astro.props;
---

<div
  class={cn(
    'bg-card text-card-foreground relative flex aspect-square overflow-hidden rounded p-5 shadow',
    className,
  )}
>
  <div class='relative z-20 flex flex-col justify-end text-white'>
    <h4>{title}</h4>
    {description && <p>{description}</p>}
  </div>
  {
    image && (
      <div class='absolute inset-0 z-0'>
        <Image
          src={image}
          alt={imageAlt ?? title ?? description ?? ''}
          width={300}
          height={200}
          class='h-full w-full object-cover'
        />
        <div
          class='pointer-events-none absolute inset-0 z-10'
          style='background-image: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 40%);'
        />
      </div>
    )
  }
</div>
